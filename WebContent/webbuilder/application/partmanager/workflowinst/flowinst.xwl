<?xml version="1.0" encoding="utf-8"?>
<body name="body" class="sys_normal">
	<folder name="store"><extAjax name="addRequest" out="extWindow" url="main?action=webbuilder/application/partmanager/workflow/store/save.xwl" onSuccess="var respText = Ext.util.JSON.decode(response.responseText);   &#xA;extWindow.hide();     &#xA;var modelkey=respText.key;&#xA;Get('iframe').src='/PartManager/service/editor?id='+modelkey;&#xA;designWindow.show();" in="key_"/><extStore name="select" autoLoad="false" url="main?action=webbuilder/application/partmanager/workflowinst/store/select.xwl"/><extAjax name="ajaxDelete" url="main?action=webbuilder/application/partmanager/workflowinst/store/delete.xwl" onSuccess="extShowMessage('删除成功！');select.reload();" onFailure="extShowMessage('删除失败！');" out="flowinstmenu"/><extStore name="getType" url="main?action=webbuilder/application/partmanager/common/CodeSelect.xwl" baseParams="fldId:'4'"/><extAjax name="saveInst" out="flowinstgrid" url="main?action=webbuilder/application/partmanager/workflowinst/store/save.xwl" onSuccess="select.reload();"/></folder><folder name="column"><extComboBox mode="local" name="flowtype" store="getType" autoShow="false" displayField="RNAME" pageSize="15" valueField="RCODE" createHidden="true"/><extColumnModel name="columnModel"><extColumn caption="caption" name="_deploymentid" fieldName="deploymentid" hidden="true"/><extColumn name="_instid" fieldName="instid" caption="实例" width="100" align="center"/><extColumn name="_instcode" fieldName="instcode" caption="编号" width="100" align="center"/><extColumn name="_processname" fieldName="processname" caption="实例名称" align="center" width="200"/><extColumn name="_deploytime" caption="部署日期" fieldName="deploytime" align="center" width="200"/><extColumn name="_resourcexml" fieldName="resourcexml" caption="资源名称" align="center" width="200"/><extColumn name="_version" caption="版本号" fieldName="version" align="center" width="100"/><extColumn name="_processtypekey" fieldName="processtypekey" caption="流程类别" editor="flowtype"/></extColumnModel></folder><folder name="menu"><extMenu name="flowinstmenu"><extMenuItem name="search" caption="查询" iconCls="icon_property" onClick="select.reload();"/><extMenuItem name="del" caption="删除" iconCls="icon_delete" onClick="operateType = 'modify';&#xA;var sm = flowinstgrid.getSelectionModel();&#xA;var celIndex = sm.getSelectedCell();&#xA;if( celIndex==null||celIndex==''){&#xA;	extShowWarning('请选择一条数据。');&#xA;	return;&#xA;}else{&#xA;	ajaxDelete();&#xA;}"/><extMenuItem iconCls="icon_save" onClick="saveInst();" name="save" caption="保存"/><extTextField name="instid" hidden="true"/></extMenu></folder><folder name="script"/><folder name="window"><extWindow name="extWindow" closeAction="hide" frame="true" width="500" height="350" layout="absolute" caption="流程编辑窗口" onOk="if (!extVerifyAllControls('extWindow')) return;&#xA;&#xA;if (operateType == 'insert'){&#xA;&#xA;addRequest();&#xA;} else&#xA;{&#xA;  //这里写UPDATE的方法&#xA;}"><extLabel left="40" top="65" caption="流程名称:" name="nameLabel" width="90"/><extTextField left="165" top="60" width="275" name="name_"/><extLabel name="keyLabel" left="40" top="30" caption="流程编号:" width="90"/><extTextField left="165" top="30" width="275" name="key_"/><extLabel name="descLabel" left="40" top="125" width="90" caption="流程描述"/><extTextField left="165" top="120" width="270" name="description" inputType="textArea"/></extWindow></folder><extViewPort name="viewPort" layout="border"><extGrid name="flowinstgrid" store="select" loadStore="true" columnsModel="columnModel" pageSize="15" region="center" tbar="flowinstmenu" width="100%" height="100%" canEdit="true" submitMode="modified" clicksToEdit="1" onRowClick="var sm = flowinstgrid.getSelectionModel();&#xA;var celIndex = sm.getSelectedCell();&#xA;var record = flowinstgrid.getStore().getAt(celIndex [0]);&#xA;instid.setValue(record.get('deploymentid') );"/></extViewPort></body>
