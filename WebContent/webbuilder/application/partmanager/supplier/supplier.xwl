<?xml version="1.0" encoding="utf-8"?>
<body name="body" class="sys_normal">
	<folder name="supplier"><folder name="store"><extStore name="select" url="main?action=webbuilder/application/partmanager/supplier/store/select.xwl" autoLoad="false"/><extAjax out="extWindow" name="update" url="main?action=webbuilder/application/partmanager/supplier/store/update.xwl" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();" onFailure="var s = response.responseText;&#xA;extShowExcept(s);"/><extAjax name="save" url="main?action=webbuilder/application/partmanager/supplier/store/save.xwl" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();" onFailure="var s = response.responseText;&#xA;extShowExcept(s);" out="extWindow"/><extAjax name="deleted" url="main?action=webbuilder/application/partmanager/supplier/store/delete.xwl" onSuccess="extRemoveGridSelection(grid);" out="grid"/><extAjax url="main?action=webbuilder/application/common/getSql.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);" onFailure="alert(&quot;保存失败&quot;);" name="getSql"/><extStore name="getSupplierType" url="main?action=webbuilder/application/partmanager/common/CodeSelect.xwl" baseParams="fldId:'5'"/></folder><folder name="column"><extColumnModel name="columnModel"><extColumn caption="供应商代码" name="supplier_cod_" fieldName="SUPPLIER_COD"/><extColumn caption="供应商名称" name="supplier_nam_" fieldName="SUPPLIER_NAM"/><extColumn caption="类型" name="supplier_type_" fieldName="SUPPLIER_TYPE"/><extColumn name="tel_" caption="联系方式" fieldName="TEL"/><extColumn name="email_" caption="邮箱" fieldName="EMAIL"/><extColumn name="address_" caption="地址" fieldName="ADDRESS"/><extColumn name="link_man_" caption="联系人" fieldName="LINK_MAN"/><extColumn name="dept_cod_" caption="所属部门" fieldName="DEPT_COD"/><extColumn name="remarks_" caption="备注" fieldName="REMARKS"/></extColumnModel></folder><folder name="menu"><extMenu name="suppliermenu"><extLabel name="suppliercodetool" caption="供应商代码"/><extTextField name="supplier_code"/><extLabel name="suppliernametool" caption="供应商名称"/><extTextField name="supplier_name"/><extMenuItem name="search" caption="查询" iconCls="icon_property" onClick="var suppliercode=supplier_code.getValue()==null?'':supplier_code.getValue();&#xA;var suppliername =supplier_name.getValue()==null?'':supplier_name.getValue();&#xA;select.baseParams.whereSql=&quot; where SUPPLIER_NAM like '%&quot;+suppliername +&quot;%' and SUPPLIER_COD like '%&quot;+suppliercode+&quot;%'&quot;;&#xA;select.load({params:{start:0,limit:30}});"/><extMenuItem name="add" caption="增加" onClick="extWindow.setTitle('新增');&#xA;extWindow.show();&#xA;operateType = 'insert';&#xA;extResetAllControlsValue(&quot;extWindow&quot;);" iconCls="icon_new"/><extMenuItem name="del" caption="删除" iconCls="icon_delete" onClick="grid=Ext.getCmp(&quot;grid&quot;);&#xA;extGridDeleteConfirm(grid,&quot;SUPPLIER_NAM&quot;,function(){&#xA;	deleted();&#xA;});"/><extMenuItem name="edit" caption="修改" iconCls="icon_edit" onClick="operateType = 'modify';&#xA;grid=Ext.getCmp(&quot;grid&quot;);&#xA;if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一个有效的条目。');&#xA;	return;&#xA;}else{&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;		extWindow.show();&#xA;	extSetAllControlsValueObj(extWindow, record.data);&#xA;&#xA;}"/></extMenu></folder><folder name="script"/><folder name="window"><extWindow name="extWindow" closeAction="hide" frame="true" width="607" height="228" layout="absolute" onOk="if (!extVerifyAllControls('extWindow')) return;&#xA;if (operateType == 'insert'){&#xA;save();&#xA;} else update();" onClose="extResetAllControlsValue('extWindow');" caption="新建供应商"><extTextField left="125" top="15" width="145" name="SUPPLIER_COD"/><extLabel left="20" top="20" caption="供应商代码：" name="supplierCod" width="90"/><extLabel name="supplierNameLabel" left="285" top="15" caption="供应商名称：" width="90"/><extTextField left="380" top="10" width="190" name="SUPPLIER_NAM"/><extLabel name="typeLabel" left="20" top="50" caption="供应商类型：" width="90"/><extComboBox mode="local" left="125" top="40" width="145" name="SUPPLIER_TYPE" pageSize="10" store="getSupplierType" displayField="RNAME" valueField="RNAME"/><extLabel left="285" top="45" caption="联系方式：" name="TEL_L" width="90"/><extTextField left="380" top="40" width="190" name="TEL"/><extLabel left="20" top="75" caption="联系人：" name="LINK_MAN_LABEL" width="90"/><extTextField left="125" top="70" width="145" name="LINK_MAN"/><extLabel left="285" top="75" caption="邮箱：" name="EMAIL_LABEL" width="90"/><extTextField left="380" top="70" width="190" name="EMAIL"/><extTextField left="125" top="100" width="445" name="REMARKS" inputType="textArea" height="50"/><extLabel left="20" top="120" caption="备注：" name="REMARKS_LABEL" width="90"/><extTextField left="25" top="150" width="120" name="SUPPLIER_ID" hidden="true"/></extWindow></folder></folder><extViewPort name="viewPort" layout="border"><extGrid name="grid" store="select" pageSize="15" columnsModel="columnModel" tbar="suppliermenu" width="100%" region="center" height="400" loadStore="true"/></extViewPort></body>
