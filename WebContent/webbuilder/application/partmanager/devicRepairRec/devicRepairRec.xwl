<?xml version="1.0" encoding="utf-8"?>
<body name="body" class="sys_normal">
	<folder name="supplier"><folder name="store"><extStore name="select" url="main?action=webbuilder/application/partmanager/devicRepairRec/store/select.xwl" autoLoad="false"/><extAjax out="extWindow" name="save" url="main?action=webbuilder/application/partmanager/devicRepairRec/store/save.xwl" onFailure="var s = response.responseText;&#xA;extShowExcept(s);" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();"/><extAjax url="main?action=webbuilder/application/common/getSql.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);" onFailure="alert(&quot;保存失败&quot;);" name="getSql"/><extAjax name="update" url="main?action=webbuilder/application/partmanager/devicRepairRec/store/update.xwl" out="extWindow" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();" onFailure="var s = response.responseText;&#xA;extShowExcept(s);"/><extAjax out="grid" onSuccess="extRemoveGridSelection(grid);" name="deleted" url="main?action=webbuilder/application/partmanager/devicRepairRec/store/delete.xwl"/><extStore name="selectEquip" url="main?action=webbuilder/application/partmanager/devicRepairRec/store/selectEquip.xwl"/><method name="getOrg" methodName="com.xuelang.partmanage.MultipleTree.getOrg"/><extStore name="getType" url="main?action=webbuilder/application/partmanager/common/CodeSelect.xwl"/><extStore name="getTroubleType" url="main?action=webbuilder/application/partmanager/common/CodeSelect.xwl" baseParams="fldId:'6'"/><method methodName="com.xuelang.partmanage.MultipleTree.getDeviceTree" name="getDeviceTree"/><extAjax url="main?action=webbuilder/application/partmanager/devicRepairRec/store/startProcess.xwl" onSuccess="extShowMessage('发起成功！');select.reload();" onFailure="extShowMessage('发起失败！');" out="grid" name="ajaxStartProcess"/><extStore url="main?action=webbuilder/application/partmanager/agentProcess/agentProcess/selectprocess.xwl" autoLoad="true" name="selectprocess"/></folder><folder name="column"><extColumnModel name="columnModel"><extColumn name="_BILL_NO" caption="故障单号" fieldName="BILL_NO" width="100" align="center"/><extColumn name="_DEV_NO" fieldName="DEV_NO" caption="设备号" width="100" align="center"/><extColumn caption="设备中文名称" name="_C_DEV_NAM" fieldName="C_DEV_NAM"/><extColumn caption="设备英文名" fieldName="E_DEV_NAM" name="_E_DEV_NAM"/><extColumn caption="是否报修" name="_UP_ID" fieldName="UP_ID" renderer="if(value=='0')&#xA;return '否';&#xA;else if(value=='1')&#xA;return '是';"/><extColumn caption="报修人" width="80" name="_APPLY_MAN_COD" fieldName="APPLY_MAN_COD"/><extColumn hidden="true" caption="报修部门" width="80" name="_APPLY_DEPT_COD" fieldName="APPLY_DEPT_COD" align="center"/><extColumn caption="报修日期" fieldName="APPLY_TIM" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value&#xA;     &#xA;}" name="_APPLY_TIM"/><extColumn caption="是否派工" fieldName="ASSIGN_ID" renderer="if(value=='0')&#xA;return '否';&#xA;else if(value=='1')&#xA;return '是';" width="80" name="_ASSIGN_ID"/><extColumn caption="派工员" fieldName="ASSIGN_MAN_COD" width="60" name="_ASSIGN_MAN_COD"/><extColumn caption="派工部门" fieldName="ASSIGN_DEPT_COD" width="80" name="_ASSIGN_DEPT_COD"/><extColumn caption="派工日期" fieldName="ASSIGN_TIM" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value;&#xA;      &#xA;     &#xA;}" name="_ASSIGN_TIM"/><extColumn caption="是否完成维修" fieldName="FINISH_ID" renderer="if(value=='0')&#xA;return '否';&#xA;else if(value=='1')&#xA;return '是';" name="_FINISH_ID"/><extColumn caption="反馈部门" fieldName="FEEDBACK_DEPT_COD" width="80" name="_FEEDBACK_DEPT_COD"/><extColumn caption="反馈人" fieldName="FEEDBACK_MAN_COD" width="60" name="_FEEDBACK_MAN_COD"/><extColumn caption="反馈时间" fieldName="FEEDBACK_TIM" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value;&#xA;      &#xA;     &#xA;}" name="_FEEDBACK_TIM"/><extColumn caption="故障现象描述" fieldName="DEV_HITCH_EXPRESS" name="_DEV_HITCH_EXPRESS"/><extColumn caption="故障部位" fieldName="DEV_PART_COD" width="80" name="_DEV_PART_COD"/><extColumn caption="故障原因" fieldName="DEV_HITCH_REASON" width="150" name="_DEV_HITCH_REASON"/><extColumn caption="故障解决方法" fieldName="DEV_HITCH_RESOLVENT" width="200" name="_DEV_HITCH_RESOLVENT"/><extColumn caption="开工时间" fieldName="BEGIN_TIM" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value;&#xA;      &#xA;     &#xA;}" name="_BEGIN_TIM"/><extColumn caption="完工时间" fieldName="END_TIM" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value; &#xA;      &#xA;     &#xA;}" name="_END_TIM"/><extColumn caption="故障是否修复" fieldName="REPAIR_ID" renderer="if(value=='0')&#xA;return '否';&#xA;else if(value=='1')&#xA;return '是';" name="_REPAIR_ID"/><extColumn caption="验收意见" fieldName="PROCESS_DES" width="200" name="_PROCESS_DES"/><extColumn name="_REPAIR_WORKER_NAM" fieldName="REPAIR_WORKER_NAM" caption="维修工人姓名"/><extColumn name="_ACCEPT_MAN" fieldName="ACCEPT_MAN" caption="验收人"/><extColumn name="_OUT_REPAIR_CORP" fieldName="OUT_REPAIR_CORP" caption="外包单位"/><extColumn name="_OUT_REPAIR_MAN" fieldName="OUT_REPAIR_MAN" caption="外包单位维修人"/><extColumn name="_HITCH_TYP_COD" fieldName="HITCH_TYP_COD" caption="故障类型代码"/><extColumn name="_REPAIR_MONEY_NUM" fieldName="REPAIR_MONEY_NUM" caption="维修费用"/><extColumn name="_ACCEPT_ID" fieldName="ACCEPT_ID" caption="验收标志" renderer="if(value=='0')&#xA;return '否';&#xA;else if(value=='1')&#xA;return '是';"/><extColumn name="_ACCEPT_TIM" fieldName="ACCEPT_TIM" caption="验收时间" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value;&#xA;      &#xA;     &#xA;}"/><extColumn name="_WF_STATUE" fieldName="WF_STATUE" caption="流程状态" renderer="if(value==1){&#xA;return '正在审批';&#xA;}else if(value==2){&#xA;return '审批通过';&#xA;}else if(value==3){&#xA;return '未通过';&#xA;}else{&#xA;return '未审批';&#xA;}"/><extColumn name="_RECORD_TIM" fieldName="RECORD_TIM" caption="录入时间"/><extColumn name="_RECORD_MAN" fieldName="RECORD_MAN" caption="录入人"/><extColumn name="_DEPT_COD" fieldName="DEPT_COD" caption="所属部门"/><extColumn fieldName="USERID" name="_USERID" caption="用户代码"/><extColumn name="_REMARKS" fieldName="REMARKS" caption="备注"/><extColumn caption="caption" name="processinstid" hidden="true"/><extColumn caption="caption" name="procdefid" hidden="true"/></extColumnModel><extColumnModel name="columnProcess"><extColumn name="username_" fieldName="username" caption="发起人" align="center" width="80" hidden="true"/><extColumn name="starttime_" fieldName="starttime" caption="发起时间" align="center" width="100"/><extColumn name="taskname_" fieldName="taskname" caption="审核阶段" align="center" width="100"/><extColumn name="checkman_" fieldName="checkman" caption="审核人" align="center" width="80"/><extColumn name="begintime_" fieldName="begintime" caption="到达日期" align="center" width="100"/><extColumn name="endtime_" fieldName="endtime" caption="完成日期" align="center" width="100"/><extColumn name="duration_" fieldName="duration" caption="过程耗时(H)" align="center" width="100"/><extColumn name="status_" fieldName="status" caption="状态" align="center" width="80" renderer="if(value==1){&#xA;	return '通过'&#xA;}else{&#xA;	return '未通过'&#xA;}"/><extColumn name="remark_" caption="审批意见" fieldName="remark" align="center" width="200"/></extColumnModel></folder><folder name="menu"><extMenu name="suppliermenu"><extLabel caption="设备编号" name="DEV_NO_toolbar"/><extTextField name="devno"/><extLabel caption="设备名称" name="devNametool"/><extTextField name="devname"/><extMenuItem name="search" caption="查询" iconCls="icon_property" onClick="var dev_no=devno.getValue()==null?'':devno.getValue();&#xA;var dev_name =devname.getValue()==null?'':devname.getValue();&#xA;select.baseParams.whereSql=&quot; where DEV_NO like '%&quot;+dev_no+&quot;%' and C_DEV_NAM like '%&quot;+dev_name+&quot;%'&quot;;&#xA;select.load({params:{start:0,limit:30}});"/><extMenuItem name="add" caption="增加" onClick="extWindow.setTitle('新增');&#xA;extWindow.show();&#xA;operateType = 'insert';&#xA;extResetAllControlsValue(&quot;extWindow&quot;);" iconCls="icon_new"/><extMenuItem name="del" caption="删除" iconCls="icon_delete" onClick="grid=Ext.getCmp(&quot;grid&quot;);&#xA;extGridDeleteConfirm(grid,&quot;BILL_NO&quot;,function(){&#xA;	deleted();&#xA;});"/><extMenuItem name="edit" caption="修改" iconCls="icon_edit" onClick="operateType = 'modify';&#xA;grid=Ext.getCmp(&quot;grid&quot;);&#xA;if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一个有效的条目。');&#xA;	return;&#xA;}else{&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;		extWindow.show();&#xA;	extSetAllControlsValueObj(extWindow, record.data);&#xA;&#xA;}"/><extMenuItem name="startprocess" caption="发起流程" onClick="if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一条数据。');&#xA;	return;&#xA;}else{	&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;	if(record.data.WF_STATUS==1){&#xA;		extShowWarning('流程正在办理。');&#xA;		return;&#xA;	}else if(record.data.WF_STATUS==2||record.data.WF_STATUS==3){&#xA;		extShowWarning('流程办理完毕。');&#xA;		return;&#xA;	}else{&#xA;		ajaxStartProcess();&#xA;	}&#xA;	&#xA;}" iconCls="icon_edit"/><extMenuItem caption="流程进度" name="showprocess" iconCls="icon_edit" onClick="if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一条数据。');&#xA;	return;&#xA;}else{	&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;	var wfstatus=record.data.WF_STATUE;&#xA;	if(wfstatus==0||wfstatus==null||wfstatus==''){&#xA;		extShowWarning('尚未发起审批。');&#xA;	}else{&#xA;		console.info(record.data.processinstid);&#xA;		Get('image').src='/PartManager/modelFlowImage_getProcessTask.do?processinstid='+record.data.processinstid;&#xA;		var  wheresql=&quot; where  procinstid='&quot;+record.data.processinstid+&quot;' &quot;;&#xA;		selectprocess.baseParams.whereSql = wheresql;&#xA;		selectprocess.load({params:{start:0,limit:30}});&#xA;&#xA;		C_DEV_NAM1.setValue(record.data.C_DEV_NAM);	&#xA;		E_DEV_NAM1.setValue(record.data.E_DEV_NAM);	&#xA;		APPLY_MAN_COD1.setValue(record.data.APPLY_MAN_COD);	&#xA;		APPLY_DEPT_COD1.setValue(record.data.APPLY_DEPT_COD);	&#xA;		APPLY_TIM1.setValue(record.data.APPLY_TIM);	&#xA;		ASSIGN_MAN_COD1.setValue(record.data.ASSIGN_MAN_COD);	&#xA;		ASSIGN_DEPT_COD1.setValue(record.data.ASSIGN_DEPT_COD);	&#xA;		ASSIGN_TIM1.setValue(record.data.ASSIGN_TIM);	&#xA;		FEEDBACK_MAN_COD1.setValue(record.data.FEEDBACK_MAN_COD);&#xA;		FEEDBACK_DEPT_COD1.setValue(record.data.FEEDBACK_DEPT_COD);	&#xA;		FEEDBACK_TIM1.setValue(record.data.FEEDBACK_TIM);	&#xA;		DEV_HITCH_EXPRESS1.setValue(record.data.DEV_HITCH_EXPRESS);	&#xA;		UP_ID1.setValue(record.data.UP_ID);	&#xA;		ASSIGN_ID1.setValue(record.data.ASSIGN_ID);	&#xA;		DEV_HITCH_RESOLVENT1.setValue(record.data.DEV_HITCH_RESOLVENT);	&#xA;		DEV_PART_COD1.setValue(record.data.DEV_PART_COD);	&#xA;		DEV_HITCH_REASON1.setValue(record.data.DEV_HITCH_REASON);	&#xA;		BEGIN_TIM1.setValue(record.data.BEGIN_TIM);	&#xA;		END_TIM1.setValue(record.data.END_TIM);	&#xA;		REPAIR_ID1.setValue(record.data.REPAIR_ID);	&#xA;		PROCESS_DES1.setValue(record.data.PROCESS_DES);	&#xA;		REPAIR_WORKER_NAM1.setValue(record.data.REPAIR_WORKER_NAM);	&#xA;		ACCEPT_MAN1.setValue(record.data.ACCEPT_MAN);	&#xA;		OUT_REPAIR_MAN1.setValue(record.data.OUT_REPAIR_MAN);	&#xA;		OUT_REPAIR_CORP1.setValue(record.data.OUT_REPAIR_CORP);&#xA;		HITCH_TYP_COD1.setValue(record.data.HITCH_TYP_COD);&#xA;		REPAIR_MONEY_NUM1.setValue(record.data.REPAIR_MONEY_NUM);&#xA;		ACCEPT_TIM1.setValue(record.data.ACCEPT_TIM);	&#xA;		ACCEPT_ID1.setValue(record.data.ACCEPT_ID);	&#xA;		BILL_NO1.setValue(record.data.BILL_NO);	&#xA;		DEV_NO1.setValue(record.data.DEV_NO);	&#xA;&#xA;		processViewWindow.show();&#xA;	}&#xA;}"/></extMenu></folder><folder name="script"/><folder name="window"><extWindow name="extWindow" closeAction="hide" frame="true" width="669" height="442" layout="absolute" onOk="if (!extVerifyAllControls('extWindow')) return;&#xA;if (operateType == 'insert'){&#xA;save();&#xA;} else update();" onHide="extResetAllControlsValue('extWindow');" caption="设备事故处理单" autoScroll="true"><extLabel name="extLabel" left="210" top="15" width="75" caption="设备中文名："/><extTextField left="290" top="10" width="120" name="C_DEV_NAM" onFocus="extWindowSbtz.show();"/><extLabel name="extLabel1" left="425" top="15" width="80" caption="设备英文名："/><extTextField left="510" top="10" width="120" name="E_DEV_NAM"/><extLabel name="extLabel3" left="5" top="45" width="65" caption="报修人："/><extTextField left="80" top="40" width="120" name="APPLY_MAN_COD"/><extLabel name="extLabel4" left="210" top="45" width="75" caption="报修部门："/><extComboTree name="APPLY_DEPT_COD" left="290" top="35" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;APPLY_DEPT_COD.setValue(text);&#xA;APPLY_DEPT_COD.collapse();"/><extLabel name="extLabel5" left="425" top="45" width="85" caption="报修日期："/><extDate left="510" top="40" width="120" name="APPLY_TIM"/><extLabel name="extLabel6" left="5" top="70" width="65" caption="派工员："/><extTextField left="80" top="70" width="120" name="ASSIGN_MAN_COD"/><extLabel name="extLabel7" left="210" top="75" width="75" caption="派工部门："/><extComboTree name="ASSIGN_DEPT_COD" left="290" top="65" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;ASSIGN_DEPT_COD.setValue(text);&#xA;ASSIGN_DEPT_COD.collapse();"/><extLabel name="extLabel8" left="425" top="75" width="80" caption="派工日期："/><extDate left="510" top="70" width="120" name="ASSIGN_TIM"/><extLabel name="extLabel9" left="5" top="100" width="65" caption="反馈人："/><extTextField left="80" top="100" width="120" name="FEEDBACK_MAN_COD"/><extLabel name="extLabel10" left="210" top="105" width="70" caption="反馈部门："/><extComboTree name="FEEDBACK_DEPT_COD" left="290" top="95" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;FEEDBACK_DEPT_COD.setValue(text);&#xA;FEEDBACK_DEPT_COD.collapse();"/><extLabel name="extLabel11" left="425" top="105" width="85" caption="反馈时间："/><extDate left="510" top="100" width="120" name="FEEDBACK_TIM"/><extLabel name="extLabel12" left="5" top="140" width="65" caption="故障描述："/><extTextField left="80" top="125" width="330" name="DEV_HITCH_EXPRESS" inputType="textArea" height="50" maxLength="500"/><extCheckBox left="425" top="125" width="100" height="20" name="UP_ID" boxLabel="是否报修"/><extCheckBox left="535" top="125" width="95" height="20" name="ASSIGN_ID" boxLabel="是否派工"/><extLabel name="extLabel13" left="5" top="200" width="65" caption="解决办法："/><extTextField left="80" top="180" width="330" name="DEV_HITCH_RESOLVENT" inputType="textArea" height="55"/><extLabel name="extLabel14" left="425" top="155" width="80" caption="故障部位："/><extTextField left="510" top="150" width="120" name="DEV_PART_COD" maxLength="10"/><extLabel name="extLabel15" left="425" top="200" width="75" caption="故障原因："/><extTextField left="510" top="175" width="120" name="DEV_HITCH_REASON" inputType="textArea"/><extLabel name="extLabel16" left="5" top="245" width="65" caption="开工时间："/><extDate left="80" top="240" width="120" name="BEGIN_TIM"/><extLabel name="extLabel17" left="210" top="245" width="75" caption="结束时间："/><extDate left="290" top="240" width="120" name="END_TIM"/><extCheckBox left="420" top="235" width="100" height="25" name="REPAIR_ID" boxLabel="故障是否修复"/><extLabel name="extLabel18" left="5" top="285" width="65" caption="验收意见："/><extTextField left="80" top="265" width="330" name="PROCESS_DES" inputType="textArea" height="50"/><extLabel name="extLabel19" left="420" top="285" width="85" caption="维修工人名单："/><extTextField left="510" top="265" width="120" name="REPAIR_WORKER_NAM" maxLength="50" inputType="textArea" height="40"/><extLabel name="extLabel20" left="420" top="320" width="80" caption="验收人："/><extTextField left="510" top="315" width="120" name="ACCEPT_MAN"/><extLabel name="extLabel21" left="5" top="325" width="65" caption="外包单位："/><extTextField left="80" top="320" width="120" name="OUT_REPAIR_CORP"/><extLabel name="extLabel22" left="210" top="325" width="75" caption="外包维修人："/><extTextField left="290" top="320" width="120" name="OUT_REPAIR_MAN"/><extLabel name="extLabel23" left="5" top="350" width="85" caption="故障类型代码："/><extComboBox mode="remote" left="80" top="345" width="120" name="HITCH_TYP_COD" pageSize="15" listWidth="200" store="getTroubleType" displayField="RNAME" valueField="RNAME"/><extLabel name="extLabel24" left="210" top="350" width="65" caption="维修费用："/><extNumber left="290" top="345" width="120" name="REPAIR_MONEY_NUM"/><extLabel name="extLabel25" left="420" top="350" width="75" caption="验收时间："/><extDate left="510" top="345" width="120" name="ACCEPT_TIM"/><extCheckBox left="530" top="235" width="100" height="25" name="ACCEPT_ID" boxLabel="验收标志"/><extTextField name="BILL_NO" hidden="true" left="165" top="370" width="120"/><extLabel left="5" top="20" width="65" caption="设备编号：" name="DEV_NO_LAB"/><extTextField left="80" top="10" width="120" name="DEV_NO" onFocus="extWindowSbtz.show();"/></extWindow><extWindow closeAction="hide" frame="true" name="processViewWindow" caption="审批进度" width="800" height="550"><extTab activeTab="0" deferredRender="false" region="center" name="detailtab"><extPanel name="flowPanel" border="false" caption="审批明细" layout="absolute" width="801" height="462"><extGrid store="selectprocess" left="10" top="5" width="765" height="205" name="tasklist" columnsModel="columnProcess"/><extForm name="imagemodel" left="15" top="215" width="760" height="190"><image name="image"/></extForm></extPanel><extPanel border="false" layout="absolute" width="800" height="500" name="businessPanel" caption="设备大修明细"><extForm name="mainForm" left="10" top="10" width="770" layout="absolute" frame="true" height="440"><extLabel name="extLabel2" left="210" top="15" width="75" caption="设备中文名："/><extTextField left="290" top="10" width="120" name="C_DEV_NAM1"/><extLabel name="extLabel110" left="425" top="15" width="80" caption="设备英文名："/><extTextField left="510" top="10" width="120" name="E_DEV_NAM1"/><extLabel name="extLabel31" left="5" top="45" width="65" caption="报修人："/><extTextField left="80" top="40" width="120" name="APPLY_MAN_COD1"/><extLabel name="extLabel41" left="210" top="45" width="75" caption="报修部门："/><extComboTree name="APPLY_DEPT_COD1" left="290" top="35" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;APPLY_DEPT_COD.setValue(text);&#xA;APPLY_DEPT_COD.collapse();"/><extLabel name="extLabel51" left="425" top="45" width="85" caption="报修日期："/><extDate left="510" top="40" width="120" name="APPLY_TIM1"/><extLabel name="extLabel61" left="5" top="70" width="65" caption="派工员："/><extTextField left="80" top="70" width="120" name="ASSIGN_MAN_COD1"/><extLabel name="extLabel71" left="210" top="75" width="75" caption="派工部门："/><extComboTree name="ASSIGN_DEPT_COD1" left="290" top="65" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;ASSIGN_DEPT_COD.setValue(text);&#xA;ASSIGN_DEPT_COD.collapse();"/><extLabel name="extLabel81" left="425" top="75" width="80" caption="派工日期："/><extDate left="510" top="70" width="120" name="ASSIGN_TIM1"/><extLabel name="extLabel91" left="5" top="100" width="65" caption="反馈人："/><extTextField left="80" top="100" width="120" name="FEEDBACK_MAN_COD1"/><extLabel name="extLabel101" left="210" top="105" width="70" caption="反馈部门："/><extComboTree name="FEEDBACK_DEPT_COD1" left="290" top="95" width="120" height="25" data="{#orgTree#}" onClick="var text=node.text;&#xA;FEEDBACK_DEPT_COD.setValue(text);&#xA;FEEDBACK_DEPT_COD.collapse();"/><extLabel name="extLabel111" left="425" top="105" width="85" caption="反馈时间："/><extDate left="510" top="100" width="120" name="FEEDBACK_TIM1"/><extLabel name="extLabel121" left="5" top="140" width="65" caption="故障描述："/><extTextField left="80" top="125" width="330" name="DEV_HITCH_EXPRESS1" inputType="textArea" height="50" maxLength="500"/><extCheckBox left="425" top="125" width="100" height="20" name="UP_ID1" boxLabel="是否报修"/><extCheckBox left="535" top="125" width="95" height="20" name="ASSIGN_ID1" boxLabel="是否派工"/><extLabel name="extLabel131" left="5" top="200" width="65" caption="解决办法："/><extTextField left="80" top="180" width="330" name="DEV_HITCH_RESOLVENT1" inputType="textArea" height="55"/><extLabel name="extLabel141" left="425" top="155" width="80" caption="故障部位："/><extTextField left="510" top="150" width="120" name="DEV_PART_COD1" maxLength="10"/><extLabel name="extLabel151" left="425" top="200" width="75" caption="故障原因："/><extTextField left="510" top="175" width="120" name="DEV_HITCH_REASON1" inputType="textArea"/><extLabel name="extLabel161" left="5" top="245" width="65" caption="开工时间："/><extDate left="80" top="240" width="120" name="BEGIN_TIM1"/><extLabel name="extLabel171" left="210" top="245" width="75" caption="结束时间："/><extDate left="290" top="240" width="120" name="END_TIM1"/><extCheckBox left="420" top="235" width="100" height="25" name="REPAIR_ID1" boxLabel="故障是否修复"/><extLabel name="extLabel181" left="5" top="285" width="65" caption="验收意见："/><extTextField left="80" top="265" width="330" name="PROCESS_DES1" inputType="textArea" height="50"/><extLabel name="extLabel191" left="420" top="285" width="85" caption="维修工人名单："/><extTextField left="510" top="265" width="120" name="REPAIR_WORKER_NAM1" maxLength="50" inputType="textArea" height="40"/><extLabel name="extLabel201" left="420" top="320" width="80" caption="验收人："/><extTextField left="510" top="315" width="120" name="ACCEPT_MAN1"/><extLabel name="extLabel211" left="5" top="325" width="65" caption="外包单位："/><extTextField left="80" top="320" width="120" name="OUT_REPAIR_CORP1"/><extLabel name="extLabel221" left="210" top="325" width="75" caption="外包维修人："/><extTextField left="290" top="320" width="120" name="OUT_REPAIR_MAN1"/><extLabel name="extLabel231" left="5" top="350" width="85" caption="故障类型代码："/><extComboBox mode="remote" left="80" top="345" width="120" name="HITCH_TYP_COD1" pageSize="15" listWidth="200" store="getTroubleType" displayField="RNAME" valueField="RNAME"/><extLabel name="extLabel241" left="210" top="350" width="65" caption="维修费用："/><extNumber left="290" top="345" width="120" name="REPAIR_MONEY_NUM1"/><extLabel name="extLabel251" left="420" top="350" width="75" caption="验收时间："/><extDate left="510" top="345" width="120" name="ACCEPT_TIM1"/><extCheckBox left="530" top="235" width="100" height="25" name="ACCEPT_ID1" boxLabel="验收标志"/><extTextField name="BILL_NO1" hidden="true" left="165" top="370" width="120"/><extLabel left="5" top="20" width="65" caption="设备编号：" name="DEV_NO_LAB1"/><extComboTree name="DEV_NO1" data="{#deviceTree#}" left="80" top="10" width="120" height="25" onClick="var str=node.attributes.extraStr;&#xA;if(str==null||str==''){&#xA;return false;&#xA;}else{&#xA;var str_=str.split('|');&#xA;DEV_NO.setValue(str_[0]);&#xA;C_DEV_NAM.setValue(node.text);&#xA;E_DEV_NAM.setValue(str_[2]);&#xA;DEV_NO.collapse();&#xA;}"/></extForm></extPanel></extTab></extWindow></folder></folder><folder name="folder4"><extStore name="devStore" url="main?action=webbuilder/application/partmanager/partDevic/devJob/devSelect.xwl"/><extColumnModel name="cmDevice"><extColumn caption="设备编号" fieldName="PARTS_NUM" name="PARTS_NUMs"/><extColumn name="PARTS_TYPEs" fieldName="PARTS_TYPE" caption="物料分类"/><extColumn name="DEVICE_TYPEs" fieldName="DEVICE_TYPE" caption="设备分类"/><extColumn name="C_PARTS_NAMs" fieldName="C_PARTS_NAM" caption="设备名称"/><extColumn fieldName="STAND_TXT" name="STAND_TXTS" caption="规格型号"/><extColumn fieldName="PROD_FACT" name="PROD_FACTs" caption="生产厂家"/><extColumn name="SUPPLIER_CODs" caption="供应商" fieldName="SUPPLIER_COD"/><extColumn caption="出厂日期" fieldName="OUT_DTE" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value.format('Y-m-d');  &#xA;      &#xA;     &#xA;}&#xA;" name="OUT_DTEs"/><extColumn caption="购买日期" fieldName="BUY_DTE" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value.format('Y-m-d');  &#xA;      &#xA;     &#xA;}&#xA;" name="BUY_DTEs"/><extColumn fieldName="USE_DTE" type="datetime" renderer="if(value==''||value==null)&#xA;{&#xA;        return  &quot;&quot;;&#xA;}else&#xA;{&#xA;        return  value.format('Y-m-d');  &#xA;      &#xA;     &#xA;}&#xA;" caption="使用日期" name="USE_DTES"/><extColumn caption="设备状态" fieldName="STATUS" renderer="if(value=='1')&#xA;return '报废';&#xA;else  &#xA;return '无';" name="STATUSs"/></extColumnModel><extMenu name="muDev1"><extLabel name="extLabel112" caption="设备名称"/><extTextField name="typeId"/></extMenu><extWindow name="extWindowSbtz" closeAction="hide" frame="true" width="600" height="450" caption="设备台账信息" layout="border" onOk="if (gridDevic.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一条数据。');&#xA;	return;&#xA;}else{	&#xA;	&#xA;	var record = gridDevic.getSelectionModel().getSelected();&#xA;        DEV_NO.setValue(record.get(&quot;PARTS_NUM&quot;));&#xA;	C_DEV_NAM.setValue(record.get(&quot;C_PARTS_NAM&quot;)); &#xA;        E_DEV_NAM.setValue(record.get(&quot;E_PARTS_NAM&quot;)); &#xA;        extWindowSbtz.hide()&#xA;}"><extPanel name="panel" border="false" region="west" layout="fit" height="100%" caption="设备种类" split="true" width="150"><extTree name="tree" autoScroll="true" onBeforeLoad="control.baseParams.id=node.id;" onClick="var  whereSql=&quot;  and   DEVICE_TYPE ='&quot;+node.text+&quot;' &quot;;&#xA;devStore.baseParams.WhereSql =whereSql;&#xA;devStore.load({params:{start:0,limit:30}});&#xA;p=node;" remoteUrl="main?action=webbuilder/application/partmanager/common/jsonQueryDevic.xwl"/></extPanel><extPanel name="panel2" border="false" region="center" layout="fit"><extGrid name="gridDevic" width="100%" tbar="muDev1" store="devStore" pageSize="30" columnsModel="cmDevice" height="400" loadStore="false" onCellDblClick="if (gridDevic.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一条数据。');&#xA;	return;&#xA;}else{	&#xA;	&#xA;	var record = gridDevic.getSelectionModel().getSelected();&#xA;        DEV_NO.setValue(record.get(&quot;PARTS_NUM&quot;));&#xA;	C_DEV_NAM.setValue(record.get(&quot;C_PARTS_NAM&quot;)); &#xA;        E_DEV_NAM.setValue(record.get(&quot;E_PARTS_NAM&quot;)); &#xA;        extWindowSbtz.hide()&#xA;}"/></extPanel></extWindow></folder><extViewPort name="viewPort" layout="border"><extGrid name="grid" store="select" pageSize="15" columnsModel="columnModel" width="100%" region="center" height="400" loadStore="true" tbar="suppliermenu"/></extViewPort></body>
