<?xml version="1.0" encoding="utf-8"?>
<body name="body" class="sys_normal">
	<folder name="supplier"><folder name="store"><extStore name="select" url="main?action=webbuilder/application/partmanager/storage/store/select.xwl" autoLoad="false"/><extAjax out="extWindow" name="save" url="main?action=webbuilder/application/partmanager/storage/store/save.xwl" onFailure="var s = response.responseText;&#xA;extShowExcept(s);" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();"/><extAjax url="main?action=webbuilder/application/common/getSql.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);" onFailure="alert(&quot;保存失败&quot;);" name="getSql"/><extAjax name="update" url="main?action=webbuilder/application/partmanager/storage/store/update.xwl" out="extWindow" onSuccess="extShowMessage('新增成功！');extCall(search);extWindow.hide();" onFailure="var s = response.responseText;&#xA;extShowExcept(s);"/><extAjax out="grid" onSuccess="extRemoveGridSelection(grid);" name="deleted" url="main?action=webbuilder/application/partmanager/storage/store/delete.xwl"/><extStore name="getStoreType" url="main?action=webbuilder/application/partmanager/common/CodeSelect.xwl" baseParams="fldId:'11'"/></folder><folder name="column"><extColumnModel name="columnModel"><extColumn name="_STORAGE_ID" fieldName="STORAGE_ID" hidden="true" caption="仓库ID"/><extColumn name="_STORAGE_COD" fieldName="STORAGE_COD" caption="仓库代码"/><extColumn name="_STORAGE_NAM" fieldName="STORAGE_NAM" caption="仓库名称"/><extColumn name="_STORAGE_TYPE" fieldName="STORAGE_TYPE" caption="仓库类型"/><extColumn name="_STORAGE_BS" fieldName="STORAGE_BS" caption="标识" renderer="if(value==1){&#xA;return '正常';&#xA;}else if(value==2){&#xA;return '报废';&#xA;}"/><extColumn name="_RESP_NAM" fieldName="RESP_NAM" caption="责任人"/><extColumn caption="录入日期" name="_RECORD_TIM" fieldName="RECORD_TIM" width="200"/><extColumn name="_RECORD_MAN" fieldName="RECORD_MAN" caption="录入人"/><extColumn caption="备注" fieldName="REMARKS" name="_REMARKS"/></extColumnModel></folder><folder name="menu"><extMenu name="suppliermenu"><extLabel caption="仓库代码" name="store_code_toolbar"/><extTextField name="store_code"/><extLabel name="store_name_toolbar" caption="仓库名称"/><extTextField name="store_name"/><extMenuItem name="search" caption="查询" iconCls="icon_property" onClick="var storecode=store_code.getValue()==null?'':store_code.getValue();&#xA;var storename =store_name.getValue()==null?'':store_name.getValue();&#xA;select.baseParams.whereSql=&quot; where STORAGE_NAM like '%&quot;+storename +&quot;%' and STORAGE_COD like '%&quot;+storecode+&quot;%'&quot;;&#xA;select.load({params:{start:0,limit:30}});"/><extMenuItem name="add" caption="增加" onClick="extWindow.setTitle('新增');&#xA;extWindow.show();&#xA;operateType = 'insert';&#xA;extResetAllControlsValue(&quot;extWindow&quot;);" iconCls="icon_new"/><extMenuItem name="del" caption="删除" iconCls="icon_delete" onClick="grid=Ext.getCmp(&quot;grid&quot;);&#xA;extGridDeleteConfirm(grid,&quot;STORAGE_NAM&quot;,function(){&#xA;	deleted();&#xA;});"/><extMenuItem name="edit" caption="修改" iconCls="icon_edit" onClick="operateType = 'modify';&#xA;grid=Ext.getCmp(&quot;grid&quot;);&#xA;if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一个有效的条目。');&#xA;	return;&#xA;}else{&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;		extWindow.show();&#xA;	extSetAllControlsValueObj(extWindow, record.data);&#xA;&#xA;}"/></extMenu></folder><folder name="script"/><folder name="window"><extWindow name="extWindow" closeAction="hide" frame="true" width="612" height="224" layout="absolute" onOk="if (!extVerifyAllControls('extWindow')) return;&#xA;if (operateType == 'insert'){&#xA;save();&#xA;} else update();" onHide="extResetAllControlsValue('extWindow');" caption="新增仓库"><extTextField left="125" top="15" width="145" name="STORAGE_COD"/><extLabel left="20" top="20" caption="仓库编号：" name="storageCod" width="90"/><extLabel name="storageNameLabel" left="285" top="15" caption="仓库名称：" width="90"/><extTextField left="385" top="10" width="190" name="STORAGE_NAM"/><extLabel name="storageTypeLabel" left="20" top="50" caption="仓库类型：" width="90"/><extComboBox mode="local" left="125" top="40" width="145" name="SUPPLIER_TYPE" store="getStoreType" displayField="RNAME" valueField="RNAME" pageSize="15"/><extLabel left="285" top="45" caption="标识：" name="STORAGE_BS_L" width="90"/><extComboBox mode="local" name="STORAGE_BS" displayField="KEY_TEXT" valueField="KEY_ID" left="385" top="40" width="190" mapKey="IS_NORMAL"/><extLabel left="20" top="75" caption="责任人：" name="RESP_NAM_LABEL" width="90"/><extTextField left="125" top="70" width="450" name="RESP_NAM"/><extTextField left="125" top="100" width="450" name="REMARKS" inputType="textArea" height="50"/><extLabel left="20" top="120" caption="备注：" name="REMARKS_LABEL" width="90"/><extTextField left="80" top="160" width="120" hidden="true" name="STORAGE_ID"/></extWindow></folder></folder><extViewPort name="viewPort" layout="border"><extGrid name="grid" store="select" pageSize="15" columnsModel="columnModel" tbar="suppliermenu" width="100%" region="center" height="400" loadStore="true"/></extViewPort></body>
