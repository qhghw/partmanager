<?xml version="1.0" encoding="utf-8"?>
<body name="body" class="sys_normal" needLogin="false" headerScript="var rowIn;var operateType ;" caption="测试" extLastScript="var d=new Date();&#xA;Ext.getCmp('edDate').setValue(d.getDate()+15);&#xA;d.setDate(d.getDate()-10);&#xA;Ext.getCmp('bgDate').setValue(d);&#xA;&#xA;userStore.baseParams.WhereSql =&quot; AND 1=2&quot;;" extHeaderScript="function getCookieVal(offset){&#xA;   var endstr = document.cookie.indexOf(&quot;;&quot;, offset);&#xA;   if(endstr == -1){&#xA;       endstr = document.cookie.length;&#xA;   }&#xA;   return unescape(document.cookie.substring(offset, endstr));&#xA;};&#xA;function getcookie(name){&#xA;    var arg = name + &quot;=&quot;;&#xA;    var alen = arg.length;&#xA;    var clen = document.cookie.length;&#xA;    var i = 0;&#xA;    var j = 0;&#xA;    while(i &lt; clen){&#xA;        j = i + alen;&#xA;        if (document.cookie.substring(i, j) == arg)&#xA;            return getCookieVal(j);&#xA;        i = document.cookie.indexOf(&quot; &quot;, i) + 1;&#xA;        if(i == 0)&#xA;            break;&#xA;    }&#xA;    return null;&#xA;};&#xA;&#xA;var themeValue = getcookie(&quot;mystock-xtheme&quot;);&#xA;alert(themeValue );&#xA;var xthemem = &quot;ext/resources/css/&quot;+themeValue +&quot;.css&quot;;&#xA;&#xA;Ext.util.CSS.swapStyleSheet(&quot;theme&quot;, xthemem);">
	<folder name="script"><extScript name="extScript"/></folder><folder name="store"><extStore name="userStore" url="main?action=webbuilder/application/test/testStore.xwl"/><extAjax url="main?action=webbuilder/application/test/update.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);userStore.reload();" onFailure="alert(&quot;保存失败&quot;);" name="update"/><extAjax url="main?action=webbuilder/application/test/insert.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);userStore.reload();" onFailure="alert(&quot;保存失败&quot;);" name="insert"/><extAjax url="main?action=webbuilder/application/common/getSql.xwl" out="extWindow" onSuccess="alert(&quot;保存成功！&quot;);" onFailure="alert(&quot;保存失败&quot;);" name="getSql"/><extAjax out="grid" onSuccess="alert(&quot;成功&quot;);userStore.reload();" onFailure="alert(&quot;失败&quot;);" name="deleteRequest" url="main?action=webbuilder/application/test/delete.xwl"/></folder><folder name="column"><extColumnModel name="columnModel"><extColumn name="munuid" caption="munuid" fieldName="menuid"/><extColumn name="mununame" caption="mununame" fieldName="menuname"/><extColumn name="munutype" caption="munutype" fieldName="menutype"/></extColumnModel><extWindow name="extWindow" caption="caption" closeAction="hide" frame="true" width="500" height="350" layout="absolute" onOk="if (operateType == 'modify')&#xA;{&#xA;alert(operateType );&#xA;	  update();&#xA;	&#xA;}else{&#xA;      alert(operateType );&#xA;	insert(); &#xA;}"><extNumber left="85" top="40" width="120" name="menuid"/><extTextField left="85" top="95" width="120" name="menuname"/><extTextField left="90" top="140" width="120" name="menutype"/><extLabel name="extLabel" left="15" top="45" width="55" caption="ID"/><extLabel name="extLabel1" left="15" top="105" width="55" caption="名称"/><extLabel name="extLabel2" left="15" top="150" width="55" caption="类型"/><extTextField left="130" top="245" width="120" name="tableName" caption="menu"/></extWindow></folder><folder name="window"><extMenu name="menu1"><extMenuItem name="menuItem3" caption="开始时间："/><extDate name="bgDate" format="Y-m-d"/><extMenuItem name="menuItem4" caption="|"/><extDate name="edDate" format="Y-m-d"/><extTextField name="ddddd"/><extMenuItem name="menuItemQuery" caption="查询" iconCls="icon_find" onClick="var text1 =  ddddd.getValue();&#xA;alert(text1);&#xA;userStore.baseParams.WhereSql = &quot; WHERE menuname= '&quot;+text1 +&quot;'&quot;;&#xA;userStore.load({params:{start:0,limit:30}});"/><extMenuItem name="menuItemFill" menuType="fill" caption="-"/><extMenuItem name="menuItemAdd" caption="增加" onClick="extWindow.setTitle('新增');&#xA;extWindow.show();&#xA;operateType = 'insert';&#xA;extResetAllControlsValue(&quot;extWindow&quot;);&#xA;tableName=Ext.getCmp(&quot;tableName&quot;);&#xA;           tableName.setValue(&quot;menu&quot;)" iconCls="icon_new"/><extMenuItem name="menuItemEdit" caption="修改" iconCls="icon_edit" onClick="operateType = 'modify';&#xA;grid=Ext.getCmp(&quot;grid&quot;);&#xA;if (grid.getSelectionModel().getSelections().length != 1)&#xA;{&#xA;	extShowWarning('请选择一个有效的条目。');&#xA;	return;&#xA;}else{&#xA;	var record = grid.getSelectionModel().getSelected();&#xA;		extWindow.show();&#xA;	extSetAllControlsValueObj(extWindow, record.data);&#xA;&#xA;}"/><extMenuItem name="menuItemDelete" caption="删除" iconCls="icon_delete" onClick="grid=Ext.getCmp(&quot;grid&quot;);&#xA;extGridDeleteConfirm(grid,&quot;menuname&quot;,function(){&#xA;	deleteRequest();&#xA;});"/></extMenu></folder><extViewPort name="viewPort" layout="border"><extPanel name="panel" border="false" caption="菜单管理" region="center" layout="border" height="100%"><extGrid name="grid" region="center" columnsModel="columnModel" tbar="menu1" store="userStore" loadStore="true" pageSize="30" height="100%"/></extPanel></extViewPort></body>
