<?xml version="1.0" encoding="utf-8"?>
<body class="sys_normal" extLastScript="username.focus(true,true);" caption="登录" author="2.0" description="Web Builder login page with identifying code" headerScript="var id=&quot;bd___login&quot;;&#xA;function changeVerifyImage(){&#xA;	verifyImage.src = 'main?action=webbuilder/system/getVerifyImage.xwl&amp;' + GetRandomId();&#xA;}" needLogin="false" logType="exception" name="body" bgImage="webbuilder/images/ptdb.gif">
	<extAjax name="loginRequest" url="main?action=webbuilder/system/verify.xwl" out="loginWindow" params="" onFailure="var s = response.responseText;&#xA;extShowExcept(s, function(){&#xA;if (s==null||s.indexOf('密码无效。') &gt; -1)&#xA;	password.focus(true, true);&#xA;else if (s.indexOf('验证码无效。') &gt; -1)&#xA;	verifyCode.focus(true, true);&#xA;else username.focus(true, true);&#xA;});" showMessage="false" waitTitle="请稍等" waitMsg="正在登录到系统..." onSuccess="if('{#relogin#}a'=='a')window.location=response.responseText;&#xA;else {loginWindow.hide();Ext.Msg.show({title:'信息',msg:'已经成功登录系统。',closable:false,icon:Ext.MessageBox.INFO});}"/><extAction name="loginAction" caption="登录" iconCls="icon_ok" minWidth="80" onAction="function focusUsername(control){&#xA;	username.focus(true, true);&#xA;}&#xA;&#xA;function focusVerifyCode(control){&#xA;	verifyCode.focus(true, true);&#xA;}&#xA;&#xA;if (!extVerifyAllControls('username'))&#xA;  extShowWarning('请输入用户名称。', focusUsername);&#xA;else if (!extVerifyAllControls('verifyCode'))&#xA;  extShowWarning('请输入验证码。', focusVerifyCode);&#xA;else loginRequest();"/><extAction name="resetAction" caption="重置" minWidth="80" hint="" onAction="extResetAllControlsValue('loginWindow');" iconCls="icon_cancel"/><extWindow name="loginWindow" caption="登录" closeAction="hide" frame="true" width="342" height="238" closable="false" layout="absolute" autoShow="true" modal="false" onOk="" dialog="false" buttons="loginAction,resetAction" buttonAlign="center" resizable="false" anchorCenter="true"><extLabel name="promptLabel" caption="请输入登录信息。" left="110" top="30" width="195"/><extPanel name="panel" border="false" left="45" top="15" width="55" height="50" style="" bodyStyle="background-color:transparent" layout="absolute"><image name="image" src="webbuilder/images/key.gif"/></extPanel><extLabel name="userNameLabel" caption="用户名称：" left="20" top="75" width="65" align="right"/><extTextField name="username" left="95" top="70" width="210" allowBlank="false" tag="" blankText="请输入用户名称。"/><extLabel name="passwordLabel" caption="密码：" left="20" top="105" width="65" align="right"/><extTextField name="password" left="95" top="100" width="210" inputType="password"/><extLabel caption="验证码：" left="20" top="135" width="65" align="right" name="verifyCodeLabel"/><extTextField left="95" top="130" name="verifyCode" allowBlank="false" width="70" blankText="请输入验证码。"/><extPanel name="panel1" border="false" left="170" top="131" width="95" height="25" layout="absolute" bodyStyle="background-color:transparent"><image src="main?action=webbuilder/system/getVerifyImage.xwl" left="0" top="0" name="verifyImage"/></extPanel><extPanel name="panel2" border="false" top="135" width="45" height="25" layout="absolute" bodyStyle="background-color:transparent" left="265"><link name="link" caption="更换" href="javascript:changeVerifyImage();"/></extPanel></extWindow><extKeyMap name="windowEnter" key="SYS.ENTER" onKeyPress="loginAction.execute();" scope="loginWindow"/><extKeyMap name="WindowESC" key="SYS.ESC" onKeyPress="resetAction.execute();" scope="loginWindow"/></body>
